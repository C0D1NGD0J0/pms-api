echo "ğŸš€ Running pre-push checks..."

# Final lint check before push
echo "ğŸ” Running final lint check..."
if ! npm run lint; then
  echo "âŒ Lint errors found! Push aborted."
  echo "ğŸ’¡ Please run 'npm run lint:fix' to fix issues and commit again."
  exit 1
fi

# Check TypeScript compilation
echo "ğŸ”§ Checking TypeScript compilation..."
if ! npm run build; then
  echo "âŒ TypeScript compilation failed! Push aborted."
  echo "ğŸ’¡ Please fix TypeScript errors before pushing."
  exit 1
fi

# Run tests to ensure nothing is broken
echo "ğŸ§ª Running tests..."
if ! npm run test; then
  echo "âŒ Tests failed! Push aborted."
  echo "ğŸ’¡ Please fix failing tests before pushing."
  exit 1
fi

echo "âœ… All pre-push checks passed! ğŸ‰"
